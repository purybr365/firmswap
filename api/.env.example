# ═══════════════════════════════════════════
#  FirmSwap API Configuration
# ═══════════════════════════════════════════

# Server
PORT=3000
HOST=0.0.0.0

# ═══════════════════════════════════════════
#  Multi-Chain Configuration
# ═══════════════════════════════════════════
# Comma-separated list of supported chain IDs.
# For each chain, provide RPC_URL_<chainId> and FIRMSWAP_ADDRESS_<chainId>.

SUPPORTED_CHAINS=100,10200

# Gnosis (chain 100)
RPC_URL_100=https://rpc.gnosis.gateway.fm
FIRMSWAP_ADDRESS_100=

# Gnosis Chiado testnet (chain 10200)
RPC_URL_10200=https://rpc.chiadochain.net
FIRMSWAP_ADDRESS_10200=

# Base (chain 8453)
# RPC_URL_8453=https://mainnet.base.org
# FIRMSWAP_ADDRESS_8453=

# Polygon (chain 137)
# RPC_URL_137=https://polygon-rpc.com
# FIRMSWAP_ADDRESS_137=

# ═══════════════════════════════════════════
#  Single-Chain Fallback (backward compat)
# ═══════════════════════════════════════════
# If SUPPORTED_CHAINS is not set, falls back to these:
# CHAIN_ID=100
# RPC_URL=https://rpc.gnosis.gateway.fm
# FIRMSWAP_ADDRESS=

# ═══════════════════════════════════════════
#  Quote Aggregation
# ═══════════════════════════════════════════

QUOTE_TIMEOUT_MS=2000               # Max time to wait for solver quotes
DEFAULT_DEPOSIT_WINDOW=300          # 5 minutes
DEFAULT_FILL_WINDOW=120             # 2 minutes after deposit deadline

# Solver bond verification
MIN_SOLVER_BOND=1000000000          # 1,000 USDC (6 decimals)

# Database (solver registry persistence)
DB_PATH=./firmswap-api.db           # Use ":memory:" to disable persistence

# Rate limiting (per IP)
RATE_LIMIT_MAX=100                  # Max requests per window (global default)
RATE_LIMIT_WINDOW_MS=60000          # Window duration in ms (1 minute)

# ═══════════════════════════════════════════
#  Security & Limits
# ═══════════════════════════════════════════

MAX_SOLVERS_PER_CHAIN=50            # Maximum registered solvers per chain
MAX_QUOTE_FAN_OUT=10                # Maximum solvers queried per quote request
CORS_ORIGINS=*                      # Comma-separated allowed origins (default: "*")
# METRICS_AUTH=admin:secret         # Optional Basic auth for /metrics endpoint
# NODE_ENV=production               # Enforces HTTPS solver URLs and blocks private IPs
